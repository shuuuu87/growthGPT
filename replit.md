# Growth GPT - AI-Powered Student Companion

## Overview
Growth GPT is a comprehensive web application designed to help students track their study sessions, compete with peers, and build confidence through gamification. The app uses AI to generate personalized quizzes, tracks daily streaks, and provides visual analytics of study performance.

## Core Features
1. **Authentication** - Replit Auth (email/password + Google login)
2. **Study Session Tracking** - Users can log study sessions with topic, subject, and estimated time
3. **AI-Generated Quizzes** - After completing a study session, users take a 5-question MCQ quiz generated by Llama 3.3 70B via OpenRouter
4. **Performance Dashboard** - 7-day bar chart showing study time and quiz scores
5. **Streak System** - Daily streak counter to encourage consistent study habits
6. **Goal Setting** - Users can set daily/weekly study goals with progress tracking
7. **Leaderboard** - Global ranking of all users by total score and current streak
8. **Confetti Celebrations** - Visual rewards when completing goals

## Tech Stack
- **Frontend**: React + TypeScript + TailwindCSS + shadcn/ui
- **Backend**: Express.js + TypeScript
- **Database**: PostgreSQL (Neon) via Drizzle ORM
- **Auth**: Replit OpenID Connect
- **AI**: OpenRouter.ai with Llama 3.3 70B for quiz generation
- **Charts**: Recharts for data visualization
- **Animations**: canvas-confetti for celebrations

## Database Schema

### Users Table
- id (varchar, primary key, UUID)
- email (varchar, unique)
- firstName (varchar)
- lastName (varchar)
- profileImageUrl (varchar, optional)
- totalScore (integer, default 0)
- currentStreak (integer, default 0)
- createdAt, updatedAt (timestamps)

### Study Sessions Table
- id (varchar, primary key, UUID)
- userId (foreign key → users)
- topic (varchar)
- subject (varchar)
- estimatedTime (integer, in minutes)
- completed (boolean)
- completedAt (timestamp, optional)
- createdAt (timestamp)

### Quiz Results Table
- id (varchar, primary key, UUID)
- userId (foreign key → users)
- sessionId (foreign key → study_sessions)
- score (integer)
- totalQuestions (integer)
- questions (json array)
- userAnswers (integer array)
- createdAt (timestamp)

### Goals Table
- id (varchar, primary key, UUID)
- userId (foreign key → users)
- type ("daily" | "weekly")
- targetMinutes (integer)
- completed (boolean)
- completedAt (timestamp, optional)
- createdAt (timestamp)

### Study Activity Table
- id (varchar, primary key, UUID)
- userId (foreign key → users)
- date (date)
- studyTime (integer, in minutes)
- score (integer, quiz points earned that day)
- Unique constraint on (userId, date)

### Sessions Table
- sid (varchar, primary key)
- sess (json)
- expire (timestamp)
- Used by express-session for auth session management

## API Endpoints

### Authentication
- `GET /api/login` - Initiate Replit Auth login
- `GET /api/callback` - Auth callback handler
- `GET /api/logout` - Logout and clear session
- `GET /api/auth/user` - Get current authenticated user

### Study Sessions
- `GET /api/sessions` - Get all sessions for current user
- `POST /api/sessions` - Create new study session

### Quizzes
- `GET /api/quiz/:sessionId` - Generate AI quiz for a session
- `POST /api/quiz/:sessionId/submit` - Submit quiz answers and get score

### Activity & Stats
- `GET /api/activity/me` - Get current user's 7-day activity
- `GET /api/activity/:userId` - Get specific user's 7-day activity
- `GET /api/streak` - Get current user's streak count

### Goals
- `GET /api/goals` - Get all goals for current user
- `POST /api/goals` - Create new goal
- `PATCH /api/goals/:goalId/complete` - Mark goal as completed

### Leaderboard
- `GET /api/leaderboard` - Get all users ranked by total score
- `GET /api/users/:userId` - Get specific user profile

## Design System
Following design_guidelines.md with inspiration from:
- **Duolingo** - Gamification patterns (streaks, celebrations)
- **Linear** - Minimalist UI with clean typography
- **Notion** - Card-based layouts

### Color Scheme
- Primary: Blue (#3B82F6)
- Secondary: Light Gray (#F1F5F9)
- Background: White (#FFFFFF)
- Accents: Subtle shadows and rounded corners

### Key Design Principles
- Minimal and motivating aesthetic
- Smooth transitions and animations
- Clear visual hierarchy
- Responsive layout for all screen sizes
- Loading states for all async operations
- Error handling with toast notifications

## User Flow

### First-Time User
1. Land on marketing page with hero section
2. Click "Get Started" → Replit Auth login
3. Redirected to Dashboard
4. Set first daily/weekly goal
5. Log first study session
6. Take AI-generated quiz
7. See results and updated charts
8. Check leaderboard position

### Returning User
1. Auto-login via session cookie
2. Dashboard shows current streak
3. View 7-day performance chart
4. Check progress on active goals
5. Log new study session
6. Complete quiz to earn points
7. Celebrate goal completion with confetti
8. Compete on leaderboard

## Key Files
- `shared/schema.ts` - Database schema and types
- `server/routes.ts` - API endpoints
- `server/storage.ts` - Database operations
- `server/openai.ts` - AI quiz generation
- `server/replitAuth.ts` - Authentication setup
- `client/src/App.tsx` - Main app component with routing
- `client/src/pages/dashboard.tsx` - Main dashboard page
- `client/src/pages/leaderboard.tsx` - Leaderboard page
- `client/src/pages/landing.tsx` - Marketing landing page
- `client/src/components/quiz-modal.tsx` - Quiz UI component
- `client/src/components/app-sidebar.tsx` - Navigation sidebar
- `design_guidelines.md` - Complete design system

## Recent Changes (October 24, 2025)
- Migrated from Replit Agent to Replit environment
- Updated AI integration from OpenAI to OpenRouter.ai with Llama 3.3 70B
- Provisioned PostgreSQL database and pushed schema
- Installed all required npm dependencies
- Completed full database schema implementation
- Set up all backend API routes with authentication
- Built complete frontend with all pages and components
- Configured Replit Auth for secure login
- Implemented streak calculation algorithm
- Added confetti animations for goal completion
- Created responsive leaderboard with user rankings

## Environment Variables
- `DATABASE_URL` - PostgreSQL connection string (auto-configured)
- `OPENROUTER_API_KEY` - OpenRouter API key for Llama 3.3 70B
- `SESSION_SECRET` - Express session secret (auto-configured)
- `REPL_ID` - Replit project ID (auto-configured)
- `REPLIT_DOMAINS` - Allowed domains for auth (auto-configured)
- `ISSUER_URL` - OIDC issuer URL (default: https://replit.com/oidc)

## User Preferences
- Minimal, clean design aesthetic
- Blue, white, and light gray color scheme
- Focus on visual quality and smooth animations
- App should feel supportive and encouraging
